Все пункты из задания реализованы с помощью ansible.
Пункт B-3 - Изменение SSH порта также был реализован с помощью bash

Комментарии к решению:
1. Для запуска playbook необходимо запустить playbook с параметром --extra-vars "ansible_password=password", где password - пароль пользователя user
  Еще вариант - это хранить пароль в зашифрованом виде(ansible vault) и при запуске использовать флаг --extra-vars. 
2. Пароли в плейбуке в явном виде не хранятся, это их hash'и полученные с помощью утилиты mkpasswd, тк ansible не приветствует хранение пароля текстом, к тому же это будет являться проблемой в безопасности.
3. Изменение порта SSH реализовано для случая когда у нас есть только установленная ОС с начальной конфигурацией, и конфигурационный файл стандартный. В случае если с ОС мы работаем уже, то правильнее было бы реализовать изменение порта и других параметров с помощью jinja2-шаблона конфигурации sshd. Такой вариант будет идемпотентным. 
Также в качестве расширения можно реализовать вариант, при котором ansible будет пытаться не просто подключаться по стандартному порту, изменять и перезагружать sshd, но и проверять работает ли сервер на стандартном порту или на том, который мы указали, подключать по одному из них (либо же сообщать, что порт неверный) и выполнять необходимые роли и таски.
